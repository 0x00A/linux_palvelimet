## Artikkelin tiivistys⁰
- Raportin tulee olla toistettavissa, eli jos annat raportin toiselle henkilölle, tulee oheita seuratessa lopputuloksen olla sama.
- Raportin tulee olla täsmällinen, eli siinä on listattava kaikki komennot sekä mitä on klikattu.
- Raportissa tulee myös kirjata ylös kaikki virheilmoitukset ja odottamattomat tulokset.
- Raportissa tulee merkitä käytetyt lähteet.


## Linuxin asennus
Host-kone:

Ellei toisin mainittu, kaikki komennot host-koneella on suoritetty Nushelliä käyttäen. https://www.nushell.sh/book/installation.html

```nushell
❯ systeminfo
...
OS Name:                   Microsoft Windows 10 Pro
OS Version:                10.0.19045 N/A Build 19045
System Type:               x64-based PC
...
```

VirtualBox: Version 7.1.8 r168469 (Qt6.5.3)

0. Asennetaan VirtualBox host-koneelle (tämä on jo tehty ennestään).
1. Ladataan materiaalissa¹ käytetty Debian 64-bittinen levykuva: https://cdimage.debian.org/debian-cd/13.0.0-live/amd64/iso-hybrid/debian-live-13.0.0-amd64-xfce.iso
```nushell
❯ http get https://cdimage.debian.org/debian-cd/13.0.0-live/amd64/iso-hybrid/debian-live-13.0.0-amd64-xfce.iso | save -p -r debian-live-13.0.0-amd64-xfce.iso
```

Tarkistetaan levykuvan eheys:
```nushell
❯ http get https://cdimage.debian.org/debian-cd/13.0.0-live/amd64/iso-hybrid/SHA256SUMS | lines | split column "  " hash filename | where filename ends-with "amd64-xfce.iso" | get hash
╭───┬──────────────────────────────────────────────────────────────────╮
│ 0 │ be9efe8414d37031f3bdd312220b2a49f45aa16b6c8c53d4d6fdd0077183be02 │
╰───┴──────────────────────────────────────────────────────────────────╯
❯ open debian-live-13.0.0-amd64-xfce.iso | hash sha256
be9efe8414d37031f3bdd312220b2a49f45aa16b6c8c53d4d6fdd0077183be02
```
(ok)

2. Avataan VirtualBox ja luodaan uusi virtuaalikone (kaikki arvot oletuksina lukuun ottamatta alla mainittuja):
    - Ctrl+N tai Machine -> New
    - Name: debian_vm
    - ISO Image: debian-live-13.0.0-amd64-xfce.iso
    - Type: Linux
    - Subtype: Debian
    - **Version: Debian (64-bit)**
    - - [x] Skip Unattended Installation

    Hardware:
    - Base Memory: 3078 MB
    - Processors 2

    Hard Disk:
    - Maksimikoko 20,00 GB -> 40,00 GB

3. Käynnistetään virtuaalikone ja asennetaan Debian:
    - Valitaan juuri luotu kone listalta ja klikataan Start
    - Boot Menu: Live system (amd64)
    - Työpöydällä avataan "Install Debian"
    - Location: 
        - Region: Europe
        - Zone: Helsinki
    - Keyboard: Finnish Default
    - Partitions: Erase disk
    - Users:
        - Täytetään kaikki kentät
    
Asennuksen jälkeen painetaan "Done" ja virtuaalikone käynnistyy uudelleen.

4. Päivitetään järjestelmä:
    - Painetaan vasemmasta yläkulmasta ```Applications -> Terminal Emulator```
    ```bash
    sudo apt-get update -y; sudo apt-get -y dist-upgrade
    ```

## Suosikkiohjelmani Linuxilla

En nyt tiedä ovatko nämä oikeasti suosikkejani, mutta niitä tulee käytettyä usein.

- head / tail

Näiden avulla voidaan lukea tiedoston alkua ja loppua, näitä tulee käytettyä usein esim. lokitiedostojen kanssa.
```bash
# ensimmäiset 5 riviä
head -n 5 log.txt
# viimeiset 5 riviä
tail -n 5 log.txt
```

- grep/ripgrep

Näillä voidaan etsiä tiedosto/ista tiettyä tekstiä tai regex-patternia. 
```bash
# etsitään tiedostosta rivejä jotka sisältävät tekstin "error"
cat log.txt | grep "error"

# etsitään tiedostosta rivejä jotka sisältävät tekstin "error" tai "warn" käyttämällä regexiä
cat log.txt | grep -E "error|warn"
```

Näitä voidaan tietenkin yhdistellä:
```bash
# etsitään tiedostosta rivejä jotka sisältävät tekstin "error" ja näytetään vain viimeiset 5 riviä
cat log.txt | grep "error" | tail -n 5

# etsitään tiedoston viimeisistä 5 rivistä rivejä jotka sisältävät tekstin "error"
cat log.txt | tail -n 5 | grep "error"

# yms..
```


## Lähteet:
- Tehtävänanto: https://terokarvinen.com/linux-palvelimet/#h1-oma-linux
- ⁰ - https://terokarvinen.com/2006/raportin-kirjoittaminen-4/
- ¹ -  https://github.com/johannaheinonen/johanna-test-repo/blob/main/linux-20082025.md